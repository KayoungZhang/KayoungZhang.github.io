

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="因为不同的数据类型在不同的架构平台上，它的长度是不一样的，为了便于移植，很多独立的流行代码程序都会采用相应的数据类型的重定义，FreeRTOS也不例外，它除了使用了标准的数据类型定义的头文件 &lt;stdint.h&gt; 外，源码中还重定义了很多数据类型，但都是由基本数据类型衍生而来，熟悉这些重定义的数据类型，对查看FreeRTOS源码和掌握与使用它有很大益处。下面具体来看看： cmsis_">
<meta property="og:type" content="article">
<meta property="og:title" content="FreeRTOS重定义的数据类型">
<meta property="og:url" content="http://example.com/2023/10/04/FreeRTOS%E9%87%8D%E5%AE%9A%E4%B9%89%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="因为不同的数据类型在不同的架构平台上，它的长度是不一样的，为了便于移植，很多独立的流行代码程序都会采用相应的数据类型的重定义，FreeRTOS也不例外，它除了使用了标准的数据类型定义的头文件 &lt;stdint.h&gt; 外，源码中还重定义了很多数据类型，但都是由基本数据类型衍生而来，熟悉这些重定义的数据类型，对查看FreeRTOS源码和掌握与使用它有很大益处。下面具体来看看： cmsis_">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-10-04T14:31:03.000Z">
<meta property="article:modified_time" content="2023-10-07T05:27:42.369Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="FreeRTOS">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"✍","loop":false,"scope":["home"]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":false,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>

<meta name="referrer" content="no-referrer" />

<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>My Tech Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/article.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.1)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle">FreeRTOS重定义的数据类型</span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-10-04 22:31" pubdate>
          2023年10月4日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          15k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          49 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-12 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">FreeRTOS重定义的数据类型</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2023年10月7日 下午
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>因为不同的数据类型在不同的架构平台上，它的长度是不一样的，为了便于移植，很多独立的流行代码程序都会采用相应的数据类型的重定义，FreeRTOS也不例外，它除了使用了标准的数据类型定义的头文件 <code>&lt;stdint.h&gt;</code> 外，源码中还重定义了很多数据类型，但都是由基本数据类型衍生而来，熟悉这些重定义的数据类型，对查看FreeRTOS源码和掌握与使用它有很大益处。下面具体来看看：</p>
<p><strong><code>cmsis_os2.h</code></strong></p>
<div class="code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">uint32_t</span>                       api;   <span class="hljs-comment">/* API 版本 (major.minor.rev: mmnnnrrrr dec). */</span>
  <span class="hljs-type">uint32_t</span>                    kernel;   <span class="hljs-comment">/* Kernel 版本 (major.minor.rev: mmnnnrrrr dec). */</span>
&#125; osVersion_t;<span class="hljs-comment">/* 版本信息 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> &#123;</span>
  osKernelInactive        =  <span class="hljs-number">0</span>,         <span class="hljs-comment">/* Kernel非工作态 */</span>
  osKernelReady           =  <span class="hljs-number">1</span>,         <span class="hljs-comment">/* Kernel就绪态 */</span>
  osKernelRunning         =  <span class="hljs-number">2</span>,         <span class="hljs-comment">/* Kernel运行态 */</span>
  osKernelLocked          =  <span class="hljs-number">3</span>,         <span class="hljs-comment">/* Kernel锁定态 */</span>
  osKernelSuspended       =  <span class="hljs-number">4</span>,         <span class="hljs-comment">/* Kernel挂起态 */</span>
  osKernelError           = <span class="hljs-number">-1</span>,         <span class="hljs-comment">/* Kernel发生错误态 */</span>
  osKernelReserved        = <span class="hljs-number">0x7FFFFFFF</span>U <span class="hljs-comment">/* 预留，编译器体积优化 */</span>
&#125; osKernelState_t;<span class="hljs-comment">/* Kernel 状态*/</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> &#123;</span>
  osThreadInactive        =  <span class="hljs-number">0</span>,         <span class="hljs-comment">/* 线程非工作态 */</span>
  osThreadReady           =  <span class="hljs-number">1</span>,         <span class="hljs-comment">/* 线程就绪态 */</span>
  osThreadRunning         =  <span class="hljs-number">2</span>,         <span class="hljs-comment">/* 线程运行态 */</span>
  osThreadBlocked         =  <span class="hljs-number">3</span>,         <span class="hljs-comment">/* 线程阻塞态 */</span>
  osThreadTerminated      =  <span class="hljs-number">4</span>,         <span class="hljs-comment">/* 线程结束态 */</span>
  osThreadError           = <span class="hljs-number">-1</span>,         <span class="hljs-comment">/* 线程错误 */</span>
  osThreadReserved        = <span class="hljs-number">0x7FFFFFFF</span>  <span class="hljs-comment">/* 预留 */</span>
&#125; osThreadState_t;<span class="hljs-comment">/* 线程状态 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> &#123;</span>
  osPriorityNone          =  <span class="hljs-number">0</span>,         <span class="hljs-comment">///&lt; No priority (not initialized).</span>
  osPriorityIdle          =  <span class="hljs-number">1</span>,         <span class="hljs-comment">///&lt; Reserved for Idle thread.</span>
  osPriorityLow           =  <span class="hljs-number">8</span>,         <span class="hljs-comment">///&lt; Priority: low</span>
  osPriorityLow1          =  <span class="hljs-number">8</span>+<span class="hljs-number">1</span>,       <span class="hljs-comment">///&lt; Priority: low + 1</span>
  osPriorityLow2          =  <span class="hljs-number">8</span>+<span class="hljs-number">2</span>,       <span class="hljs-comment">///&lt; Priority: low + 2</span>
  osPriorityLow3          =  <span class="hljs-number">8</span>+<span class="hljs-number">3</span>,       <span class="hljs-comment">///&lt; Priority: low + 3</span>
  osPriorityLow4          =  <span class="hljs-number">8</span>+<span class="hljs-number">4</span>,       <span class="hljs-comment">///&lt; Priority: low + 4</span>
  osPriorityLow5          =  <span class="hljs-number">8</span>+<span class="hljs-number">5</span>,       <span class="hljs-comment">///&lt; Priority: low + 5</span>
  osPriorityLow6          =  <span class="hljs-number">8</span>+<span class="hljs-number">6</span>,       <span class="hljs-comment">///&lt; Priority: low + 6</span>
  osPriorityLow7          =  <span class="hljs-number">8</span>+<span class="hljs-number">7</span>,       <span class="hljs-comment">///&lt; Priority: low + 7</span>
  osPriorityBelowNormal   = <span class="hljs-number">16</span>,         <span class="hljs-comment">///&lt; Priority: below normal</span>
  osPriorityBelowNormal1  = <span class="hljs-number">16</span>+<span class="hljs-number">1</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 1</span>
  osPriorityBelowNormal2  = <span class="hljs-number">16</span>+<span class="hljs-number">2</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 2</span>
  osPriorityBelowNormal3  = <span class="hljs-number">16</span>+<span class="hljs-number">3</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 3</span>
  osPriorityBelowNormal4  = <span class="hljs-number">16</span>+<span class="hljs-number">4</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 4</span>
  osPriorityBelowNormal5  = <span class="hljs-number">16</span>+<span class="hljs-number">5</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 5</span>
  osPriorityBelowNormal6  = <span class="hljs-number">16</span>+<span class="hljs-number">6</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 6</span>
  osPriorityBelowNormal7  = <span class="hljs-number">16</span>+<span class="hljs-number">7</span>,       <span class="hljs-comment">///&lt; Priority: below normal + 7</span>
  osPriorityNormal        = <span class="hljs-number">24</span>,         <span class="hljs-comment">///&lt; Priority: normal</span>
  osPriorityNormal1       = <span class="hljs-number">24</span>+<span class="hljs-number">1</span>,       <span class="hljs-comment">///&lt; Priority: normal + 1</span>
  osPriorityNormal2       = <span class="hljs-number">24</span>+<span class="hljs-number">2</span>,       <span class="hljs-comment">///&lt; Priority: normal + 2</span>
  osPriorityNormal3       = <span class="hljs-number">24</span>+<span class="hljs-number">3</span>,       <span class="hljs-comment">///&lt; Priority: normal + 3</span>
  osPriorityNormal4       = <span class="hljs-number">24</span>+<span class="hljs-number">4</span>,       <span class="hljs-comment">///&lt; Priority: normal + 4</span>
  osPriorityNormal5       = <span class="hljs-number">24</span>+<span class="hljs-number">5</span>,       <span class="hljs-comment">///&lt; Priority: normal + 5</span>
  osPriorityNormal6       = <span class="hljs-number">24</span>+<span class="hljs-number">6</span>,       <span class="hljs-comment">///&lt; Priority: normal + 6</span>
  osPriorityNormal7       = <span class="hljs-number">24</span>+<span class="hljs-number">7</span>,       <span class="hljs-comment">///&lt; Priority: normal + 7</span>
  osPriorityAboveNormal   = <span class="hljs-number">32</span>,         <span class="hljs-comment">///&lt; Priority: above normal</span>
  osPriorityAboveNormal1  = <span class="hljs-number">32</span>+<span class="hljs-number">1</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 1</span>
  osPriorityAboveNormal2  = <span class="hljs-number">32</span>+<span class="hljs-number">2</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 2</span>
  osPriorityAboveNormal3  = <span class="hljs-number">32</span>+<span class="hljs-number">3</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 3</span>
  osPriorityAboveNormal4  = <span class="hljs-number">32</span>+<span class="hljs-number">4</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 4</span>
  osPriorityAboveNormal5  = <span class="hljs-number">32</span>+<span class="hljs-number">5</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 5</span>
  osPriorityAboveNormal6  = <span class="hljs-number">32</span>+<span class="hljs-number">6</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 6</span>
  osPriorityAboveNormal7  = <span class="hljs-number">32</span>+<span class="hljs-number">7</span>,       <span class="hljs-comment">///&lt; Priority: above normal + 7</span>
  osPriorityHigh          = <span class="hljs-number">40</span>,         <span class="hljs-comment">///&lt; Priority: high</span>
  osPriorityHigh1         = <span class="hljs-number">40</span>+<span class="hljs-number">1</span>,       <span class="hljs-comment">///&lt; Priority: high + 1</span>
  osPriorityHigh2         = <span class="hljs-number">40</span>+<span class="hljs-number">2</span>,       <span class="hljs-comment">///&lt; Priority: high + 2</span>
  osPriorityHigh3         = <span class="hljs-number">40</span>+<span class="hljs-number">3</span>,       <span class="hljs-comment">///&lt; Priority: high + 3</span>
  osPriorityHigh4         = <span class="hljs-number">40</span>+<span class="hljs-number">4</span>,       <span class="hljs-comment">///&lt; Priority: high + 4</span>
  osPriorityHigh5         = <span class="hljs-number">40</span>+<span class="hljs-number">5</span>,       <span class="hljs-comment">///&lt; Priority: high + 5</span>
  osPriorityHigh6         = <span class="hljs-number">40</span>+<span class="hljs-number">6</span>,       <span class="hljs-comment">///&lt; Priority: high + 6</span>
  osPriorityHigh7         = <span class="hljs-number">40</span>+<span class="hljs-number">7</span>,       <span class="hljs-comment">///&lt; Priority: high + 7</span>
  osPriorityRealtime      = <span class="hljs-number">48</span>,         <span class="hljs-comment">///&lt; Priority: realtime</span>
  osPriorityRealtime1     = <span class="hljs-number">48</span>+<span class="hljs-number">1</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 1</span>
  osPriorityRealtime2     = <span class="hljs-number">48</span>+<span class="hljs-number">2</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 2</span>
  osPriorityRealtime3     = <span class="hljs-number">48</span>+<span class="hljs-number">3</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 3</span>
  osPriorityRealtime4     = <span class="hljs-number">48</span>+<span class="hljs-number">4</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 4</span>
  osPriorityRealtime5     = <span class="hljs-number">48</span>+<span class="hljs-number">5</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 5</span>
  osPriorityRealtime6     = <span class="hljs-number">48</span>+<span class="hljs-number">6</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 6</span>
  osPriorityRealtime7     = <span class="hljs-number">48</span>+<span class="hljs-number">7</span>,       <span class="hljs-comment">///&lt; Priority: realtime + 7</span>
  osPriorityISR           = <span class="hljs-number">56</span>,         <span class="hljs-comment">///&lt; Reserved for ISR deferred thread.</span>
  osPriorityError         = <span class="hljs-number">-1</span>,         <span class="hljs-comment">///&lt; System cannot determine priority or illegal priority.</span>
  osPriorityReserved      = <span class="hljs-number">0x7FFFFFFF</span>  <span class="hljs-comment">///&lt; Prevents enum down-size compiler optimization.</span>
&#125; osPriority_t;<span class="hljs-comment">/* 优先级值枚举 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*osThreadFunc_t)</span> <span class="hljs-params">(<span class="hljs-type">void</span> *argument)</span>;<span class="hljs-comment">/* 线程入口 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*osTimerFunc_t)</span> <span class="hljs-params">(<span class="hljs-type">void</span> *argument)</span>;<span class="hljs-comment">/* 定时器回调函数 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> &#123;</span>
  osTimerOnce               = <span class="hljs-number">0</span>,          <span class="hljs-comment">/* 单次定时 */</span>
  osTimerPeriodic           = <span class="hljs-number">1</span>           <span class="hljs-comment">/* 周期性定时 */</span>
&#125; osTimerType_t;<span class="hljs-comment">/* 定时器类型枚举 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> &#123;</span>
  osOK                      =  <span class="hljs-number">0</span>,         <span class="hljs-comment">/* 操作成功完成 */</span>
  osError                   = <span class="hljs-number">-1</span>,         <span class="hljs-comment">/* RTOS error */</span>
  osErrorTimeout            = <span class="hljs-number">-2</span>,         <span class="hljs-comment">/* 超时前操作未完成 */</span>
  osErrorResource           = <span class="hljs-number">-3</span>,         <span class="hljs-comment">/* 资源不可用 */</span>
  osErrorParameter          = <span class="hljs-number">-4</span>,         <span class="hljs-comment">/* 参数错误 */</span>
  osErrorNoMemory           = <span class="hljs-number">-5</span>,         <span class="hljs-comment">/* 系统内存不足 */</span>
  osErrorISR                = <span class="hljs-number">-6</span>,         <span class="hljs-comment">/* 中断错误 */</span>
  osStatusReserved          = <span class="hljs-number">0x7FFFFFFF</span>  <span class="hljs-comment">/* 预留 */</span>
&#125; osStatus_t;<span class="hljs-comment">/* CMSIS-RTOS函数返回的状态码 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osThreadId_t;<span class="hljs-comment">/* 线程ID */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osTimerId_t;<span class="hljs-comment">/* 定时器ID */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osEventFlagsId_t;<span class="hljs-comment">/* 事件标志ID */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osMutexId_t;<span class="hljs-comment">/* 互斥量ID */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osSemaphoreId_t;<span class="hljs-comment">/* 信号量ID */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osMemoryPoolId_t;<span class="hljs-comment">/* 内存池ID */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> *osMessageQueueId_t;<span class="hljs-comment">/* 消息队列ID */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 线程名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 线程属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 线程控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 线程控制块内存大小 */</span>
  <span class="hljs-type">void</span>                   *stack_mem;    <span class="hljs-comment">/* 栈内存 */</span>
  <span class="hljs-type">uint32_t</span>                stack_size;   <span class="hljs-comment">/* 栈内存大小 */</span>
  osPriority_t              priority;   <span class="hljs-comment">/* 初始化线程优先级 (默认: osPriorityNormal) */</span>
  TZ_ModuleId_t            tz_module;   <span class="hljs-comment">/* 安全区组件 */</span>
  <span class="hljs-type">uint32_t</span>                  reserved;   <span class="hljs-comment">/* 预留(must be 0) */</span>
&#125; osThreadAttr_t;<span class="hljs-comment">/* 线程属性结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 定时器名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 定时器属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 定时器控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 定时器控制块内存大小 */</span>
&#125; osTimerAttr_t;<span class="hljs-comment">/* 定时器属性结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 事件标志名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 事件标志属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 事件标志控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 事件标志控制块内存大小 */</span>
&#125; osEventFlagsAttr_t;<span class="hljs-comment">/* 事件标志属性结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 互斥量名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 互斥量属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 互斥量控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 互斥量控制块内存大小 */</span>
&#125; osMutexAttr_t;<span class="hljs-comment">/* 互斥量属性结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 信号量名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 信号量属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 信号量控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 信号量控制块内存大小 */</span>
&#125; osSemaphoreAttr_t;<span class="hljs-comment">/* 信号量属性结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 内存池名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 内存池属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 内存池控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 内存池控制块内存大小 */</span>
  <span class="hljs-type">void</span>                      *mp_mem;    <span class="hljs-comment">/* 数据存储内存 */</span>
  <span class="hljs-type">uint32_t</span>                   mp_size;   <span class="hljs-comment">/* 数据存储内存大小 */</span>
&#125; osMemoryPoolAttr_t;<span class="hljs-comment">/* 内存池属性结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>                   *name;   <span class="hljs-comment">/* 消息队列名 */</span>
  <span class="hljs-type">uint32_t</span>                 attr_bits;   <span class="hljs-comment">/* 消息队列属性位 */</span>
  <span class="hljs-type">void</span>                      *cb_mem;    <span class="hljs-comment">/* 消息队列控制块内存 */</span>
  <span class="hljs-type">uint32_t</span>                   cb_size;   <span class="hljs-comment">/* 消息队列控制块内存大小 */</span>
  <span class="hljs-type">void</span>                      *mq_mem;    <span class="hljs-comment">/* 数据存储内存 */</span>
  <span class="hljs-type">uint32_t</span>                   mq_size;   <span class="hljs-comment">/* 数据存储内存大小 */</span>
&#125; osMessageQueueAttr_t;<span class="hljs-comment">/* 消息队列属性结构体 */</span></code></pre></div>
<p><strong><code>portmacro.h</code> 和 <code>projdefs.h</code></strong></p>
<div class="code-wrapper"><pre><code class="hljs c">`portmacro.h`
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portCHAR		char</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portFLOAT		float</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portDOUBLE		double</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portLONG		long</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portSHORT		short</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portSTACK_TYPE	uint32_t</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portBASE_TYPE	long</span>

<span class="hljs-keyword">typedef</span> portSTACK_TYPE StackType_t;
<span class="hljs-keyword">typedef</span> <span class="hljs-type">long</span> BaseType_t;
<span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> UBaseType_t;

<span class="hljs-keyword">typedef</span> <span class="hljs-type">uint32_t</span> TickType_t; <span class="hljs-comment">//typedef uint16_t TickType_t;</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> portINLINE __inline</span>
-------------------------------------------------------------------
`projdefs.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*TaskFunction_t)</span><span class="hljs-params">( <span class="hljs-type">void</span> * )</span>; <span class="hljs-comment">/* 定义任务函数指针 */</span>

<span class="hljs-meta">#<span class="hljs-keyword">define</span> pdFALSE			( ( BaseType_t ) 0 )</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> pdTRUE			( ( BaseType_t ) 1 )</span>

<span class="hljs-meta">#<span class="hljs-keyword">define</span> pdPASS			( pdTRUE )</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> pdFAIL			( pdFALSE )</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> errQUEUE_EMPTY	( ( BaseType_t ) 0 )</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> errQUEUE_FULL	( ( BaseType_t ) 0 )</span></code></pre></div>
<p><strong><code>FreeRTOS.h</code> 和 <code>task.h</code></strong></p>
<div class="code-wrapper"><pre><code class="hljs c">`FreeRTOS.h`
<span class="hljs-meta">#<span class="hljs-keyword">if</span> configENABLE_BACKWARD_COMPATIBILITY == 1</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> eTaskStateGet eTaskGetState</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> portTickType TickType_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xTaskHandle TaskHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xQueueHandle QueueHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xSemaphoreHandle SemaphoreHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xQueueSetHandle QueueSetHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xQueueSetMemberHandle QueueSetMemberHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xTimeOutType TimeOut_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xMemoryRegion MemoryRegion_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xTaskParameters TaskParameters_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xTaskStatusType	TaskStatus_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xTimerHandle TimerHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xCoRoutineHandle CoRoutineHandle_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> pdTASK_HOOK_CODE TaskHookFunction_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> portTICK_RATE_MS portTICK_PERIOD_MS</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> pcTaskGetTaskName pcTaskGetName</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> pcTimerGetTimerName pcTimerGetName</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> pcQueueGetQueueName pcQueueGetName</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> vTaskGetTaskInfo vTaskGetInfo</span>

	<span class="hljs-comment">/* 仅在任务调度器中向后兼容，这些定义非必须，但为了完整性而被包含 */</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> tmrTIMER_CALLBACK TimerCallbackFunction_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> pdTASK_CODE TaskFunction_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xListItem ListItem_t</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> xList List_t</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">/* 向后兼容 */</span></span>

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_LIST_ITEM</span></span>
<span class="hljs-class">&#123;</span>
	TickType_t xDummy1;
	<span class="hljs-type">void</span> *pvDummy2[ <span class="hljs-number">4</span> ];
&#125;;
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_LIST_ITEM</span> <span class="hljs-title">StaticListItem_t</span>;</span><span class="hljs-comment">/* 静态列表项结构体 */</span>

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_MINI_LIST_ITEM</span></span>
<span class="hljs-class">&#123;</span>
	TickType_t xDummy1;
	<span class="hljs-type">void</span> *pvDummy2[ <span class="hljs-number">2</span> ];
&#125;;
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_MINI_LIST_ITEM</span> <span class="hljs-title">StaticMiniListItem_t</span>;</span><span class="hljs-comment">/* mini静态列表项结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_LIST</span></span>
<span class="hljs-class">&#123;</span>
	UBaseType_t uxDummy1;
	<span class="hljs-type">void</span> *pvDummy2;
	StaticMiniListItem_t xDummy3;
&#125; StaticList_t;<span class="hljs-comment">/* 静态列表结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_TCB</span></span>
<span class="hljs-class">&#123;</span>
	<span class="hljs-type">void</span>				*pxDummy1;
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( portUSING_MPU_WRAPPERS == 1 )</span>
		xMPU_SETTINGS	xDummy2;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	StaticListItem_t	xDummy3[ <span class="hljs-number">2</span> ];
	UBaseType_t			uxDummy5;
	<span class="hljs-type">void</span>				*pxDummy6;
	<span class="hljs-type">uint8_t</span>				ucDummy7[ configMAX_TASK_NAME_LEN ];
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( ( portSTACK_GROWTH &gt; 0 ) || ( configRECORD_STACK_HIGH_ADDRESS == 1 ) )</span>
		<span class="hljs-type">void</span>			*pxDummy8;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( portCRITICAL_NESTING_IN_TCB == 1 )</span>
		UBaseType_t		uxDummy9;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_TRACE_FACILITY == 1 )</span>
		UBaseType_t		uxDummy10[ <span class="hljs-number">2</span> ];
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_MUTEXES == 1 )</span>
		UBaseType_t		uxDummy12[ <span class="hljs-number">2</span> ];
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_APPLICATION_TASK_TAG == 1 )</span>
		<span class="hljs-type">void</span>			*pxDummy14;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( configNUM_THREAD_LOCAL_STORAGE_POINTERS &gt; 0 )</span>
		<span class="hljs-type">void</span>			*pvDummy15[ configNUM_THREAD_LOCAL_STORAGE_POINTERS ];
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configGENERATE_RUN_TIME_STATS == 1 )</span>
		<span class="hljs-type">uint32_t</span>		ulDummy16;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_NEWLIB_REENTRANT == 1 )</span>
		<span class="hljs-class"><span class="hljs-keyword">struct</span>	_<span class="hljs-title">reent</span>	<span class="hljs-title">xDummy17</span>;</span>
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_TASK_NOTIFICATIONS == 1 )</span>
		<span class="hljs-type">uint32_t</span> 		ulDummy18;
		<span class="hljs-type">uint8_t</span> 		ucDummy19;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( ( ( configSUPPORT_STATIC_ALLOCATION == 1 ) &amp;&amp; ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) ) || ( portUSING_MPU_WRAPPERS == 1 ) )</span>
		<span class="hljs-type">uint8_t</span>			uxDummy20;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( INCLUDE_xTaskAbortDelay == 1 )</span>
		<span class="hljs-type">uint8_t</span> ucDummy21;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
&#125; StaticTask_t;<span class="hljs-comment">/* 静态任务结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_QUEUE</span></span>
<span class="hljs-class">&#123;</span>
	<span class="hljs-type">void</span> *pvDummy1[ <span class="hljs-number">3</span> ];

	<span class="hljs-class"><span class="hljs-keyword">union</span></span>
<span class="hljs-class">	&#123;</span>
		<span class="hljs-type">void</span> *pvDummy2;
		UBaseType_t uxDummy2;
	&#125; u;

	StaticList_t xDummy3[ <span class="hljs-number">2</span> ];
	UBaseType_t uxDummy4[ <span class="hljs-number">3</span> ];
	<span class="hljs-type">uint8_t</span> ucDummy5[ <span class="hljs-number">2</span> ];

	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( ( configSUPPORT_STATIC_ALLOCATION == 1 ) &amp;&amp; ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) )</span>
		<span class="hljs-type">uint8_t</span> ucDummy6;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_QUEUE_SETS == 1 )</span>
		<span class="hljs-type">void</span> *pvDummy7;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_TRACE_FACILITY == 1 )</span>
		UBaseType_t uxDummy8;
		<span class="hljs-type">uint8_t</span> ucDummy9;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
&#125; StaticQueue_t;
<span class="hljs-keyword">typedef</span> StaticQueue_t StaticSemaphore_t;<span class="hljs-comment">/* 静态信号量结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_EVENT_GROUP</span></span>
<span class="hljs-class">&#123;</span>
	TickType_t xDummy1;
	StaticList_t xDummy2;

	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( configUSE_TRACE_FACILITY == 1 )</span>
		UBaseType_t uxDummy3;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( ( configSUPPORT_STATIC_ALLOCATION == 1 ) &amp;&amp; ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) )</span>
			<span class="hljs-type">uint8_t</span> ucDummy4;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
&#125; StaticEventGroup_t;<span class="hljs-comment">/* 静态事件组结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_TIMER</span></span>
<span class="hljs-class">&#123;</span>
	<span class="hljs-type">void</span>				*pvDummy1;
	StaticListItem_t	xDummy2;
	TickType_t			xDummy3;
	UBaseType_t			uxDummy4;
	<span class="hljs-type">void</span> 				*pvDummy5[ <span class="hljs-number">2</span> ];
	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( configUSE_TRACE_FACILITY == 1 )</span>
		UBaseType_t		uxDummy6;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

	<span class="hljs-meta">#<span class="hljs-keyword">if</span>( ( configSUPPORT_STATIC_ALLOCATION == 1 ) &amp;&amp; ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) )</span>
		<span class="hljs-type">uint8_t</span> 		ucDummy7;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
&#125; StaticTimer_t;<span class="hljs-comment">/* 静态定时器结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xSTATIC_STREAM_BUFFER</span></span>
<span class="hljs-class">&#123;</span>
	<span class="hljs-type">size_t</span> uxDummy1[ <span class="hljs-number">4</span> ];
	<span class="hljs-type">void</span> * pvDummy2[ <span class="hljs-number">3</span> ];
	<span class="hljs-type">uint8_t</span> ucDummy3;
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( configUSE_TRACE_FACILITY == 1 )</span>
		UBaseType_t uxDummy4;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
&#125; StaticStreamBuffer_t;
<span class="hljs-keyword">typedef</span> StaticStreamBuffer_t StaticMessageBuffer_t;<span class="hljs-comment">/* 静态消息缓冲区结构体 */</span>
-----------------------------------------------------------------------------------------------
`task.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * TaskHandle_t; <span class="hljs-comment">/* 任务句柄指针 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">BaseType_t</span> <span class="hljs-params">(*TaskHookFunction_t)</span><span class="hljs-params">( <span class="hljs-type">void</span> * )</span>;<span class="hljs-comment">/* 定义任务钩子函数指针 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span></span>
<span class="hljs-class">&#123;</span>
	eRunning = <span class="hljs-number">0</span>,	<span class="hljs-comment">/* 运行态. */</span>
	eReady,			<span class="hljs-comment">/* 就绪态 */</span>
	eBlocked,		<span class="hljs-comment">/* 阻塞态 */</span>
	eSuspended,		<span class="hljs-comment">/* 挂起态 */</span>
	eDeleted,		<span class="hljs-comment">/* 删除，但任务控制块还没有释放 */</span>
	eInvalid			<span class="hljs-comment">/* 无效态 */</span>
&#125; eTaskState;<span class="hljs-comment">/* eTaskGetState()函数返回的任务状态 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span></span>
<span class="hljs-class">&#123;</span>
	eNoAction = <span class="hljs-number">0</span>,				<span class="hljs-comment">/* 不更新notification value 而通知任务 */</span>
	eSetBits,					<span class="hljs-comment">/* 设置任务notification value的位 */</span>
	eIncrement,					<span class="hljs-comment">/* 增加任务notification value */</span>
	eSetValueWithOverwrite,		<span class="hljs-comment">/* 即使之前的值还没有被读取，也设置任务notification value为指定值*/</span>
	eSetValueWithoutOverwrite	<span class="hljs-comment">/* 如果之前的值被读取，就设置notification value */</span>
&#125; eNotifyAction;<span class="hljs-comment">/* 调用vTaskNotify()函数执行的动作枚举 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xTIME_OUT</span></span>
<span class="hljs-class">&#123;</span>
	BaseType_t xOverflowCount;
	TickType_t xTimeOnEntering;
&#125; TimeOut_t;<span class="hljs-comment">/* 仅内部使用 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xMEMORY_REGION</span></span>
<span class="hljs-class">&#123;</span>
	<span class="hljs-type">void</span> *pvBaseAddress;
	<span class="hljs-type">uint32_t</span> ulLengthInBytes;
	<span class="hljs-type">uint32_t</span> ulParameters;
&#125; MemoryRegion_t;<span class="hljs-comment">/* 使用MPU时定义任务内存分配范围 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xTASK_PARAMETERS</span></span>
<span class="hljs-class">&#123;</span>
	TaskFunction_t pvTaskCode;
	<span class="hljs-type">const</span> <span class="hljs-type">char</span> * <span class="hljs-type">const</span> pcName;	
	<span class="hljs-type">uint16_t</span> usStackDepth;
	<span class="hljs-type">void</span> *pvParameters;
	UBaseType_t uxPriority;
	StackType_t *puxStackBuffer;
	MemoryRegion_t xRegions[ portNUM_CONFIGURABLE_REGIONS ];
	<span class="hljs-meta">#<span class="hljs-keyword">if</span> ( ( portUSING_MPU_WRAPPERS == 1 ) &amp;&amp; ( configSUPPORT_STATIC_ALLOCATION == 1 ) )</span>
		StaticTask_t * <span class="hljs-type">const</span> pxTaskBuffer;
	<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
&#125; TaskParameters_t;<span class="hljs-comment">/* 创建MPU被保护的任务参数结构体 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xTASK_STATUS</span></span>
<span class="hljs-class">&#123;</span>
	TaskHandle_t xHandle;			<span class="hljs-comment">/* 任务结构体句柄 */</span>
	<span class="hljs-type">const</span> <span class="hljs-type">char</span> *pcTaskName;			<span class="hljs-comment">/* 任务名指针 */</span>
	UBaseType_t xTaskNumber;		<span class="hljs-comment">/* 任务的独有number */</span>
	eTaskState eCurrentState;		<span class="hljs-comment">/* 任务结构体当前状态 */</span>
	UBaseType_t uxCurrentPriority;	<span class="hljs-comment">/* 运行任务当前优先级 */</span>
	UBaseType_t uxBasePriority;		<span class="hljs-comment">/* 任务当前优先级已被继承，以避免在获得互斥锁时发生无界优先级反转，返回任务优先级 */</span>
	<span class="hljs-type">uint32_t</span> ulRunTimeCounter;		<span class="hljs-comment">/* 到目前为止分配给任务的总运行时间 */</span>
	StackType_t *pxStackBase;		<span class="hljs-comment">/* 任务栈最低地址点 */</span>
	<span class="hljs-type">uint16_t</span> usStackHighWaterMark;	<span class="hljs-comment">/* 任务剩余的最小栈空间 */</span>
&#125; TaskStatus_t;<span class="hljs-comment">/* 使用 uxTaskGetSystemState() 函数系统返回每个任务的状态 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span></span>
<span class="hljs-class">&#123;</span>
	eAbortSleep = <span class="hljs-number">0</span>, <span class="hljs-comment">/* 调用portSUPPORESS_TICKS_AND_SLEEP()函数而中止进入睡眠模式，任务进入就绪态或任务切换挂起 */</span>
	eStandardSleep,			<span class="hljs-comment">/* 进入睡眠模式，该模式不会持续超过预期的空闲时间 */</span>
	eNoTasksWaitingTimeout	<span class="hljs-comment">/* 没有任务等待超时，安全进入睡眠模式，只能从外部中断中退出 */</span>
&#125; eSleepModeStatus; <span class="hljs-comment">/* eTaskConfirmSleepModeStatus()函数的返回值枚举 */</span></code></pre></div>
<p><strong><code>其它重定义类型</code></strong></p>
<div class="code-wrapper"><pre><code class="hljs c">`event_groups.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * EventGroupHandle_t;<span class="hljs-comment">/* 事件组句柄指针 */</span>
<span class="hljs-keyword">typedef</span> TickType_t EventBits_t;
-----------------------------------------------------------------------------------------------
`<span class="hljs-built_in">list</span>.h`
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST_ITEM</span></span>
<span class="hljs-class">&#123;</span>
	configLIST_VOLATILE TickType_t xItemValue;			<span class="hljs-comment">/* 列表的值，一般降序排列 */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST_ITEM</span> * <span class="hljs-title">configLIST_VOLATILE</span> <span class="hljs-title">pxNext</span>;</span>		<span class="hljs-comment">/* 下一个列表项指针 */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST_ITEM</span> * <span class="hljs-title">configLIST_VOLATILE</span> <span class="hljs-title">pxPrevious</span>;</span>	<span class="hljs-comment">/* 前一个列表项指针 */</span>
	<span class="hljs-type">void</span> * pvOwner;										<span class="hljs-comment">/* 包含列表项对象的指针 */</span>
	<span class="hljs-type">void</span> * configLIST_VOLATILE pvContainer;				<span class="hljs-comment">/* 有列表项的列表指针 */</span>
&#125;;
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST_ITEM</span> <span class="hljs-title">ListItem_t</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xMINI_LIST_ITEM</span></span>
<span class="hljs-class">&#123;</span>
	configLIST_VOLATILE TickType_t xItemValue;
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST_ITEM</span> * <span class="hljs-title">configLIST_VOLATILE</span> <span class="hljs-title">pxNext</span>;</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST_ITEM</span> * <span class="hljs-title">configLIST_VOLATILE</span> <span class="hljs-title">pxPrevious</span>;</span>
&#125;;
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xMINI_LIST_ITEM</span> <span class="hljs-title">MiniListItem_t</span>;</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">xLIST</span></span>
<span class="hljs-class">&#123;</span>
	<span class="hljs-keyword">volatile</span> UBaseType_t uxNumberOfItems;
	ListItem_t * configLIST_VOLATILE pxIndex;<span class="hljs-comment">/* 遍历列表索引，调用listGET_OWNER_OF_NEXT_ENTRY ()函数指向最后一个列表项 */</span>
	MiniListItem_t xListEnd;							<span class="hljs-comment">/* 列表项最后一个 */</span>
&#125; List_t;<span class="hljs-comment">/* 队列结构体 */</span>
----------------------------------------------------------------------------------------------
`message_buffer.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * MessageBufferHandle_t; <span class="hljs-comment">/* 消息缓冲句柄指针 */</span>
----------------------------------------------------------------------------------------------
`<span class="hljs-built_in">queue</span>.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * QueueHandle_t; <span class="hljs-comment">/* 队列句柄指针 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * QueueSetHandle_t; <span class="hljs-comment">/* 队列设置句柄指针 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * QueueSetMemberHandle_t;<span class="hljs-comment">/* 队列或信号量设置成员句柄指针 */</span>
----------------------------------------------------------------------------------------------
`semphr.h`
<span class="hljs-keyword">typedef</span> QueueHandle_t SemaphoreHandle_t;
----------------------------------------------------------------------------------------------
`stream_buffer.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * StreamBufferHandle_t; <span class="hljs-comment">/* 流缓冲区句柄指针 */</span>
----------------------------------------------------------------------------------------------
`timers.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * TimerHandle_t;<span class="hljs-comment">/* 定义软定时器句柄指针 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*TimerCallbackFunction_t)</span><span class="hljs-params">( TimerHandle_t xTimer )</span>; <span class="hljs-comment">/* 定义软定时器回调函数指针 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*PendedFunction_t)</span><span class="hljs-params">( <span class="hljs-type">void</span> *, <span class="hljs-type">uint32_t</span> )</span>;<span class="hljs-comment">/* 定义定时器挂起函数指针 */</span>
----------------------------------------------------------------------------------------------
`croutine.h`
<span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> * CoRoutineHandle_t;<span class="hljs-comment">/* 协同程序句柄指针 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*crCOROUTINE_CODE)</span><span class="hljs-params">( CoRoutineHandle_t, UBaseType_t )</span>;<span class="hljs-comment">/* 协同程序函数指针 */</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">corCoRoutineControlBlock</span></span>
<span class="hljs-class">&#123;</span>
	crCOROUTINE_CODE 	pxCoRoutineFunction;
	ListItem_t			xGenericListItem;	<span class="hljs-comment">/* 协同程序控制块中就绪态和阻塞态列表项 */</span>
	ListItem_t			xEventListItem;		<span class="hljs-comment">/* 协同程序控制块中事件列表项 */</span>
	UBaseType_t 		uxPriority;			<span class="hljs-comment">/* 协同程序间的优先级 */</span>
	UBaseType_t 		uxIndex;			<span class="hljs-comment">/* 当多个协同程序使用同一个函数时用来区别协同程序 */</span>
	<span class="hljs-type">uint16_t</span> 			uxState;			<span class="hljs-comment">/* 协同程序开发内部使用 */</span>
&#125; CRCB_t; <span class="hljs-comment">/* 协同控制块 */</span></code></pre></div>
<p>可以看到这里出现了很多重定义的数据类型，一般我们只需要熟悉常用的，如 <code>portmacro.h</code> 文件中的重定义的数据类型，其它的了解一下即可，至少知道表示什么意思。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/RTOS/" class="category-chain-item">RTOS</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/FreeRTOS/">#FreeRTOS</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/10/04/FreeRTOS%E5%8F%98%E9%87%8F%E3%80%81%E5%87%BD%E6%95%B0%E5%8F%8A%E5%AE%8F%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/" title="FreeRTOS变量、函数及宏命名规则">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">FreeRTOS变量、函数及宏命名规则</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/10/04/FreeRTOS%E5%B7%A5%E7%A8%8B%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E6%A6%82%E8%A7%88/" title="FreeRTOS工程目录文件概览">
                        <span class="hidden-mobile">FreeRTOS工程目录文件概览</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"vknpQgHbpd1oLUPUwwPbdY3B-gzGzoHsz","appKey":"1DCiNflrxTVqUxWR5T00HypH","path":"window.location.pathname","placeholder":"欢迎留言交流","avatar":"robohash","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":true,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <p <i class="iconfont icon-copyright"></i> <span>2023 | KayougZhang</span> </p> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>





  
    <script  src="/js/img-lazyload.js" ></script>
  




  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
